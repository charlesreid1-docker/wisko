



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.2">
    
    
      
        <title>Wisko FAQ - the wisko manual</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../css/custom.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="green">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#wisko-faq" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="the wisko manual" class="md-header-nav__button md-logo">
          
            <i class="md-icon">cloud</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                the wisko manual
              </span>
              <span class="md-header-nav__topic">
                Wisko FAQ
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">cloud</i>
      
    </span>
    the wisko manual
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Index" class="md-nav__link">
      Index
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../boot2root/" title="Wisko Boot to Root" class="md-nav__link">
      Wisko Boot to Root
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Wisko FAQ
      </label>
    
    <a href="./" title="Wisko FAQ" class="md-nav__link md-nav__link--active">
      Wisko FAQ
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#apache" title="Apache" class="md-nav__link">
    Apache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-apache2" title="running apache2" class="md-nav__link">
    running apache2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apache2-configuration-files" title="apache2 configuration files" class="md-nav__link">
    apache2 configuration files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#php" title="PHP" class="md-nav__link">
    PHP
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-php" title="running php" class="md-nav__link">
    running php
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#php-configuration-files" title="php configuration files" class="md-nav__link">
    php configuration files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql" title="MySQL" class="md-nav__link">
    MySQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#networking" title="networking" class="md-nav__link">
    networking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-mysql" title="running mysql" class="md-nav__link">
    running mysql
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-configuration-files" title="mysql configuration files" class="md-nav__link">
    mysql configuration files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gitea" title="Gitea" class="md-nav__link">
    Gitea
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gitea-locations" title="gitea locations" class="md-nav__link">
    gitea locations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-gitea" title="running gitea" class="md-nav__link">
    running gitea
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebuilding-gitea" title="rebuilding gitea" class="md-nav__link">
    rebuilding gitea
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../locked-out/" title="Locked Out of Wisko" class="md-nav__link">
      Locked Out of Wisko
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../smallmelo-migration-1/" title="smallmelo.com Migration: Part 1" class="md-nav__link">
      smallmelo.com Migration: Part 1
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../smallmelo-migration-2/" title="smallmelo.com Migration: Part 2" class="md-nav__link">
      smallmelo.com Migration: Part 2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../smallmelo-migration-3/" title="smallmelo.com Migration: Part 3" class="md-nav__link">
      smallmelo.com Migration: Part 3
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../wisko-gitea/" title="Wisko Gitea" class="md-nav__link">
      Wisko Gitea
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../geoserver-https/" title="Connecting to Geoserver Over HTTPS" class="md-nav__link">
      Connecting to Geoserver Over HTTPS
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#apache" title="Apache" class="md-nav__link">
    Apache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-apache2" title="running apache2" class="md-nav__link">
    running apache2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apache2-configuration-files" title="apache2 configuration files" class="md-nav__link">
    apache2 configuration files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#php" title="PHP" class="md-nav__link">
    PHP
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-php" title="running php" class="md-nav__link">
    running php
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#php-configuration-files" title="php configuration files" class="md-nav__link">
    php configuration files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql" title="MySQL" class="md-nav__link">
    MySQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#networking" title="networking" class="md-nav__link">
    networking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-mysql" title="running mysql" class="md-nav__link">
    running mysql
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-configuration-files" title="mysql configuration files" class="md-nav__link">
    mysql configuration files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gitea" title="Gitea" class="md-nav__link">
    Gitea
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gitea-locations" title="gitea locations" class="md-nav__link">
    gitea locations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-gitea" title="running gitea" class="md-nav__link">
    running gitea
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebuilding-gitea" title="rebuilding gitea" class="md-nav__link">
    rebuilding gitea
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="wisko-faq">wisko FAQ</h1>
<h2 id="apache">Apache</h2>
<p>Link: <a href="https://help.ubuntu.com/lts/serverguide/httpd.html">Apache on the Ubuntu Wiki</a></p>
<p>Apache 2 was installed using the command <code>apt-get install apache2</code>.</p>
<h3 id="running-apache2">running apache2</h3>
<p>To start, restart, or stop apache2 (it should start automatically on boot):</p>
<pre><code>$ sudo service apache2 start
$ sudo service apache2 restart
$ sudo service apache2 stop
</code></pre>

<h3 id="apache2-configuration-files">apache2 configuration files</h3>
<p>Apache keeps its configuration files in <code>/etc/apache2/</code>.</p>
<p>Apache is configured to host multiple websites, so there are multiple configuration files. </p>
<p>The global Apache config file is <code>/etc/apache2/apache2.conf</code>.</p>
<p>Site-specific Apache config files are in <code>/etc/apache2/sites-available</code>. To make a new site, just add a new file to that folder (name it whatever you'd like). There is an existing default configuration in that folder.</p>
<p>The site configuration file is where you edit the folder it serves up, the port it listens on, what requests it is listening for (subdomain or full domain), etc.</p>
<p>When you have edited a site's configuration file, enable it using the <code>a2ensite</code> command:</p>
<pre><code>$ a2ensite name_of_site
</code></pre>

<p>Likewise, disable the site with <code>a2dissite</code>:</p>
<pre><code>$ a2dissite name_of_site
</code></pre>

<h2 id="php">PHP</h2>
<p>Link: <a href="https://help.ubuntu.com/community/ApacheMySQLPHP">LAMP Server on Ubuntu Wiki</a></p>
<p>PHP was installed using aptitude.</p>
<h3 id="running-php">running php</h3>
<p>PHP is a programming language designed for web browsers, so you don't need to start it - Apache will handle that. (Apache has a PHP module that has been enabled.)</p>
<h3 id="php-configuration-files">php configuration files</h3>
<p>PHP also has multiple configuration files, but we're only interested in the Apache-PHP configuration file at <code>/etc/php5/apache2/php.ini</code>. The main thing that you would change here is the max file upload size (10 MB by default) and whether PHP prints out errors ("debug" mode).</p>
<h2 id="mysql">MySQL</h2>
<p>Link: <a href="https://help.ubuntu.com/lts/serverguide/mysql.html">MySQL on Ubuntu Wiki</a></p>
<p>MySQL server was installed using aptitude.</p>
<h3 id="networking">networking</h3>
<p>MySQL will listen on port 3306 for incoming requests on the local machine <em>only</em> (it is bound to the address 127.0.0.1:3306). That means no outside computers can communicate with MySQL. This can be changed in the configuration file.</p>
<h3 id="running-mysql">running mysql</h3>
<p>To run the MySQL server in the background (it should start automatically on boot), run:</p>
<pre><code>$ sudo service mysql start
</code></pre>

<p>To get a MySQL shell, run MySQL from the command line:</p>
<pre><code>$ mysql -u root -p
</code></pre>

<p>This will prompt you for your MySQL password.</p>
<p>To make a new MySQL user, log in as the root user and run:</p>
<pre><code>mysql&gt; CREATE USER 'newuser'@'localhost' IDENTIFIED BY &quot;newpassword&quot;;
</code></pre>

<p>To create a database and give the new user permission to edit that database:</p>
<pre><code>mysql&gt; CREATE DATABASE newdb;
mysql&gt; GRANT ALL PRIVILEGES ON newdb.* TO &quot;newuser&quot;@&quot;localhost&quot;;
</code></pre>

<p>MySQL is picky about quotations.</p>
<h3 id="mysql-configuration-files">mysql configuration files</h3>
<p>The main MySQL configuration file is in <code>/etc/mysql/mysql.cnf</code>.</p>
<p>The MySQL configuration file that you should edit is at <code>/etc/mysql/mysql.conf.d/mysql.cnf</code>.</p>
<h2 id="gitea">Gitea</h2>
<h3 id="gitea-locations">gitea locations</h3>
<p>Gitea was installed using <code>go get</code>, which integrates Go with Github. The command checked out a copy of the code in the directory specified by <code>$GOCODE</code>, which is at <code>~/gocode</code>.</p>
<p>The gitea source is located in <code>/home/melo/gocode/src/code.gitea.io/gitea/</code>, which is symlinked to <code>~melo/gitea/</code>.</p>
<h3 id="running-gitea">running gitea</h3>
<p>Gitea will <em>not</em> run on boot - a startup service needs to be added in <code>/etc/init.d/gitea</code> that will run the gitea command as user <code>melo</code>.</p>
<p>The Gitea web server is a binary Go program that bundles together everything it needs to run. The binary is built and run in the directory <code>~melo/gocode/src/code.gitea.io/gitea</code> (both as the user <code>melo</code>). </p>
<p>To run the binary, you would execute it with the "web" argument:</p>
<pre><code>$ cd ~/gocode/src/code.gitea.io/gitea/
$ ./gitea web
</code></pre>

<p>However, this starts the process in the foreground, so it's more convenient to run it in a screen (which allows you to detach from a shell, end your session, and reattach to that shell in a later session).</p>
<pre><code>$ screen -d -m -S giteaweb $HOME/gocode/src/code.gitea.io/gitea/gitea web
</code></pre>

<p>This will start a new screen in detached mode (<code>-d -m</code>), call it <code>giteaweb</code> (<code>-S</code>), and run the command <code>gitea web</code>.</p>
<p>To reattach, list your screens using the <code>-ls</code> flag and reattach using the <code>-r</code> flag:</p>
<pre><code>$ screen -ls
$ screen -r giteaweb
</code></pre>

<h3 id="rebuilding-gitea">rebuilding gitea</h3>
<p>The gitea source directory at <code>~/gocode/src/code.gitea.io/gitea</code> is a cloned git repository, so you can check out different versions or branches as needed. If you make changes to the configuration file or template files, you will also need to re-make the gitea binary (since all of that is bundled up in the binary).</p>
<p>To remake the binary:</p>
<pre><code>$ cd $GOCODE/src/code.gitea.io/gitea/

# here you can do stuff like
# git branch -a
# git checkout v1.3

$ TAGS=&quot;bindata&quot; make generate build
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../boot2root/" title="Wisko Boot to Root" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Wisko Boot to Root
              </span>
            </div>
          </a>
        
        
          <a href="../locked-out/" title="Locked Out of Wisko" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Locked Out of Wisko
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright 2018 Charles Reid
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.0cf9b500.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
        <script src="../search/require.js"></script>
      
        <script src="../search/search.js"></script>
      
    
    
      
    
  </body>
</html>